<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="referrer" content="origin">
    <meta name="darkreader-lock" content="">
    <meta name="theme-color" content="rgb(31, 31, 31)">
    <meta name="theme-color-orig" content="#988FFF">
    <meta property="og:site_name" content="ada's blog">
    <meta property="twitter:card" content="summary">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" type="application/rss+xml" title="ada's blog" href="https://chronovore.dev/posts/feed.rss" />
    <link rel="alternate" type="application/atom+xml" title="ada's blog" href="https://chronovore.dev/posts/feed.atom" />
    <link rel="alternate" type="application/json" title="ada's blog" href="https://chronovore.dev/posts/feed.json" />
    <link rel="stylesheet" href="code.dark.css">
    <link rel="stylesheet" href="code.css">
    <link rel="stylesheet" href="design.css">
    <title>ada's blog - some notes about gaming on linux</title>
    <meta property="og:title" content="some notes about gaming on linux">
    <meta property="og:description" content="this is mostly so i don't forget">
    <meta property="og:url" content="https://chronovore.dev/posts/2024-06-22-0436A-linux-gaming-notes.html">
    <meta property="og:type" content="article">
    <meta property="og:author" content="Ada">
    <meta property="article:published_time" content="2024-09-22T08:16:00">
</head>

<body>
    <main>
        <header>
            <h1>ada's blog</h1>
            <figure>
                <div>
                    <h2>some notes about gaming on linux</h2>
                    this is mostly so i don't forget
                </div>
                <span>
                    last updated at
                    <time datetime="2024-09-22T08:16:00">2024-09-22 8:16 AM</time>
                </span>
                <span>
                    published at
                    <time datetime="2024-06-22T04:36:00">2024-06-22 4:36 AM</time>
                </span>
            </figure>
        </header>
        <nav>
            <a href="index.html">back to index</a> - <a href="https://raw.githubusercontent.com/yretenai/posts/develop/markdown/2024-06-22-0436A-linux-gaming-notes.md">view source</a><br>
        </nav>
        <article>
<p>I recently migrated to using Linux full time.
You need to not look far to find an ocean of reasons why Windows has been a bit miserable.</p>
<p>This post mainly serves as a logbook for fixes and workarounds for making games (and some applications) work on Linux.</p>
<div class="toc">
<ul>
<li><a href="#eac-failed-to-intialize-dependencies-error">EAC &ldquo;Failed to Intialize Dependencies&rdquo; error</a></li>
<li><a href="#enabling-dx12-ray-tracing">Enabling DX12 Ray Tracing</a></li>
<li><a href="#games-not-capturing-mouse-cursor">Games not capturing mouse cursor</a></li>
<li><a href="#gamescope-exiting-early-due-to-short-lived-launcher-processes">Gamescope exiting early due to short-lived launcher processes</a></li>
<li><a href="#gamescope-resolution-being-fixed-to-the-first-window-size-under-sdl">Gamescope resolution being fixed to the first window size under SDL</a></li>
<li><a href="#windows-only-third-party-mod-tooling">Windows-only Third-Party Mod Tooling</a></li>
<li><a href="#game-specific-fixes">Game-Specific Fixes</a><ul>
<li><a href="#dauntless">Dauntless</a></li>
</ul>
</li>
<li><a href="#changelog">Changelog</a></li>
</ul>
</div>
<h2 id="eac-failed-to-intialize-dependencies-error">EAC &ldquo;Failed to Intialize Dependencies&rdquo; error</h2>
<p>This is likely due to a <code>SDL_VIDEODRIVER</code> and/or <code>SDL_VIDEO_DRIVER</code> environment variable being present.</p>
<p>Try using the following launch arguments:</p>
<p><code>env --unset=SDL_VIDEODRIVER --unset=SDL_VIDEO_DRIVER %command%</code></p>
<p>Alternatively, set the variable to an empty string in whatever launch manager you&rsquo;re using (Heroic, Lutris).</p>
<h2 id="enabling-dx12-ray-tracing">Enabling DX12 Ray Tracing</h2>
<p>If you have a ray tracing capable GPU (RTX 2000 or newer, RX 6800 or newer)
you might be able to tell Mesa and VKD3D that ray-tracing can be enabled by using the following launch arguments:</p>
<p><code>env RADV_PERFTEST=rt VKD3D_CONFIG=dxr VKD3D_FEATURE_LEVEL=12_2 %command%</code></p>
<p>If you have an older GPU you can try:</p>
<p><code>env RADV_PERFTEST=emulate_rt VKD3D_CONFIG=dxr VKD3D_FEATURE_LEVEL=12_2 %command%</code></p>
<p>This assumes you have a relatively recent VKD3D and Mesa installation,
and the game has to support ray tracing in any capacity (i.e. World of Warcraft, Ratchet and Clank: Rift Apart)</p>
<h2 id="games-not-capturing-mouse-cursor">Games not capturing mouse cursor</h2>
<p>Some games don&rsquo;t play nice with mouse capture, an easy way to solve this is by changing the launch arguments to:</p>
<p><code>gamescope --force-grab-cursor -f %command%</code></p>
<p>You may swap -f with -b for borderless windowed instead of fullscreen.</p>
<h2 id="gamescope-exiting-early-due-to-short-lived-launcher-processes">Gamescope exiting early due to short-lived launcher processes</h2>
<p>Some games launch via third party launchers that cause gamescope to exit before the wine device.</p>
<p>This may be solved by forcing the SDL backend.</p>
<p><code>gamescope --backend sdl %command%</code></p>
<h2 id="gamescope-resolution-being-fixed-to-the-first-window-size-under-sdl">Gamescope resolution being fixed to the first window size under SDL</h2>
<p>Gamescope under SDL has a hard time adjusting to resolution changes (i.e. if you&rsquo;re using it for launcher processes.), to solve this you must force the window to be fullscreen.</p>
<p><code>gamescope -w YOUR_RESOLUTION_HERE -h YOUR_RESOLUTION_HERE -r YOUR_REFRESH_RATE_HERE --backend sdl --force-windows-fullscreen -f %command%</code></p>
<p>(Special thanks to <a href="https://twitch.tv/hollyrious">Hollyrious</a> for helping me diagnose this!)</p>
<h2 id="windows-only-third-party-mod-tooling">Windows-only Third-Party Mod Tooling</h2>
<p>You can add the mod tools as a non-steam game, given it has a GUI.</p>
<p>When you do, force it to use <strong>the same compatability tools as the game</strong> and set the launch arguments to:</p>
<p><code>env STEAM_COMPAT_DATA_PATH="~/.steam/root/steamapps/compatdata/489830" %command%</code></p>
<p>You may need to install more dependencies like .NET 4.8/6.0, etc via protontricks, select the game <em>not</em> the non-steam app when installing.</p>
<p>Change <code>~/.steam/root/steamapps</code> to the SteamLibrary steamapps folder if installed in a steam library folder.</p>
<p>Change 489830 to match the steam id of the mod tool the game is for, 489830 is Skyrim SE/AE.
It is the number after <code>/app/</code> in the Steam store link, alternatively look it up on SteamDB.</p>
<h2 id="game-specific-fixes">Game-Specific Fixes</h2>
<h3 id="dauntless">Dauntless</h3>
<p>If you randomly crash, it might be because of stack smashing due to a race condition.</p>
<p>I have managed to reduce the frequency of crashes by limiting how many resources the game can use.</p>
<p><code>env DXVK_CONFIG="dxvk.numCompilerThreads=1" WINE_CPU_TOPOLOGY="4:0,2,4,6" %command%</code></p>
<p>If there is too much lag, you might want to redefine the CPU topology, i.e. <code>WINE_CPU_TOPOLOGY="8:0,1,2,3,4,5,6,7"</code></p>
<h2 id="changelog">Changelog</h2>
<p><em>Update: 2024-09-22 - Added gamescope-related workarounds.</em></p>
            <footer>
                created with <img src="emoji/heart.png" alt="love"> by <a href="https://github.com/yretenai">Ada</a> <img src="emoji/trans_lily.png" class="emoji" alt="transgender lilly emoji, "> <img src="emoji/lesbian_lily.png" class="emoji" alt="lesbian lily emoji"><br>
                <span><a href="https://github.com/yretenai/posts">source code</a> - <a href="feed.rss">rss</a>, <a href="feed.atom">atom</a>, <a href="feed.json">json</a> - <a href="emoji/NOTICE.txt">emoji credit notice</a> - <a href="LICENSE">licensed under 0BSD</a></span><br>
            </footer>
        </article>
    </main>
</body>

</html>
